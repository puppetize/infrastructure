# DO NOT EDIT - Managed by Puppet
#
# Bacula Storage Daemon Configuration
#   for p1
#   via p1:director (p1)

# Configure the Director which will manage this Storage Daemon, and the
# Director through which we'll send our messages (will be the same) one.
Director {
  Name = "p1:director"
  Password = "upaugheeZ2naera6"
}

Messages {
  Name = "p1:messages:standard"
  Director = "p1:director" = all
}

# Configure the basic details for the Storage Daemon on this server
Storage {
  Name = "p1:storage"
  Working Directory = "/var/lib/bacula"
  PID Directory = "/var/run/bacula"
  Maximum Concurrent Jobs = 20
}

# Also configure access for something to monitor this Storage Daemon
Director {
  Name = "p1:monitor:storage"
  Password = "yaithahthiPuD2Ch"
  Monitor = Yes
}

# Now configure the default Device this Storage Daemon will provide
Device {
  Name = "FileStorage"
  Media Type = File
  Archive Device = /mnt/bacula/default
  Label Media = Yes
  Random Access = Yes
  Automatic Mount = Yes
  Removable Media = No
  Always Open = No

  #Requires Mount = yes
  #Mount Point = /mnt/bacula/default
  #Mount Command = "/etc/bacula/scripts/ftp-mirror down"
  #Unmount Command = "/etc/bacula/scripts/ftp-mirror up"
}

# All other Devices are created by the clients that need them - each will
# prepare their own device and pool configuration, which will then be
# saved under /etc/bacula/bacula-sd.d and imported by the following line:
@|"sh -c 'for f in /etc/bacula/bacula-sd.d/*.conf ; do echo @${f} ; done'"
